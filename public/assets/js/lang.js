// Language translations object
const translations = {
  en: {
    translation: {
      
      // Navigation
      "nav.home": "Home",
      "nav.trips": "Trips",
      "nav.popular": "Popular",
      "nav.testimonials": "Testimonials",
      "nav.contact": "Contact",
      "nav.bookNow": "Book Now",
      
      // Hero Section
      "hero.title": "Discover Egypt's Best Beaches",
      "hero.subtitle": "Trips to Hurghada, Sharm El-Sheikh & Ain Sokhna — book now, enjoy later.",
      "hero.exploreTrips": "Explore Trips",
      
      // Destinations
      "destinations.title": "Our Trips",
      "destinations.subtitle": "Choose from our top destinations",
      "destinations.ainSokhna": "Ain Sokhna Trips",
      "destinations.hurghada": "Hurghada Trips",
      "destinations.sharm": "Sharm El-Sheikh Trips",
      "destinations.dahab": "Dahab Trips",
      "destinations.marsa": "Marsa Trips",
      "destinations.maldives": "Maldives Trips",
      
      // Popular Trips
      "popular.title": "Popular Trips",
      "popular.subtitle": "Discover our top-rated trips and book your next adventure",
      "popular.mostPopular": "Most Popular",
      "popular.bestSeller": "Best Seller",
      "popular.familyFriendly": "Family Friendly",
      "popular.adventure": "Adventure",
      "popular.ainSokhnaGetaway": "Ain Sokhna Getaway",
      "popular.sharmElSheikh": "Sharm El Sheikh",
      "popular.hurghadaBeach": "Hurghada Beach Resort",
      "popular.dahabDiving": "Dahab Diving Experience",
      "popular.days": "Days",
      "popular.nights": "Nights",
      
      // Testimonials
      "testimonials.title": "What Our Clients Say",
      "testimonials.subtitle": "Real travelers. Real stories. Verified reviews.",
      "testimonials.basedOn": "Based on 1,240 reviews",
      "testimonials.service": "Service",
      "testimonials.value": "Value",
      "testimonials.organization": "Organization",
      "testimonials.verifiedAgency": "Verified Agency",
      "testimonials.redSeaTrips": "Red Sea Trips",
      "testimonials.support24": "24/7 Support",
      "testimonials.verifiedTraveler": "Verified Traveler",
      
      // Contact
      "contact.title": "Book Your Trip Today",
      "contact.subtitle": "Tell us where you want to go — we'll handle the rest.",
      "contact.getInTouch": "Get in touch",
      "contact.description": "Call us, send a message or fill the booking form and our travel expert will contact you within 24 hours.",
      "contact.phone": "Phone",
      "contact.email": "Email",
      "contact.office": "Office",
      "contact.openingHours": "Opening Hours",
      "contact.callNow": "Call Now",
      "contact.fullName": "Full name",
      "contact.yourFullName": "Your full name",
      "contact.emailOptional": "Email (optional)",
      "contact.destination": "Destination",
      "contact.chooseDestination": "Choose a destination",
      "contact.adults": "Adults",
      "contact.children": "Children",
      "contact.preferredDate": "Preferred date",
      "contact.notes": "Notes",
      "contact.specialRequests": "Any special requests (hotel standard, transfer, food...)",
      "contact.requestBooking": "Request Booking",
      "contact.or": "Or",
      "contact.callUs": "call us",
      "contact.bookInstantly": "to book instantly",
        // Modals
        "modals.choose_type_title": "Choose Tour Type",
        "modals.choose_type_sub": "Please select the type of tour you are interested in.",
        "modals.view_all": "View All",

        // Types
        "types.hotel": "Hotel",
        "types.hotel_desc": "Discover the best hotel packages.",
        "types.honeymoon": "Honeymoon",
        "types.honeymoon_desc": "Romantic trips tailored for couples.",
        "types.trip": "Trip",
        "types.trip_desc": "Exciting trips and adventures await."
    }
  },
  fr: {
    translation: {
      // Navigation
      "nav.home": "Accueil",
      "nav.trips": "Voyages",
      "nav.popular": "Populaire",
      "nav.testimonials": "Témoignages",
      "nav.contact": "Contact",
      "nav.bookNow": "Réserver",
      
      // Hero Section
      "hero.title": "Découvrez les Plus Belles Plages d'Égypte",
      "hero.subtitle": "Voyages à Hurghada, Sharm El-Sheikh et Ain Sokhna — réservez maintenant, profitez plus tard.",
      "hero.exploreTrips": "Explorer les Voyages",
      
      // Destinations
      "destinations.title": "Nos Voyages",
      "destinations.subtitle": "Choisissez parmi nos meilleures destinations",
      "destinations.ainSokhna": "Voyages Ain Sokhna",
      "destinations.hurghada": "Voyages Hurghada",
      "destinations.sharm": "Voyages Sharm El-Sheikh",
      "destinations.dahab": "Voyages Dahab",
      "destinations.marsa": "Voyages Marsa",
      "destinations.maldives": "Voyages Maldives",
      
      // Popular Trips
      "popular.title": "Voyages Populaires",
      "popular.subtitle": "Découvrez nos voyages les mieux notés et réservez votre prochaine aventure",
      "popular.mostPopular": "Le Plus Populaire",
      "popular.bestSeller": "Meilleure Vente",
      "popular.familyFriendly": "Familial",
      "popular.adventure": "Aventure",
      "popular.ainSokhnaGetaway": "Escapade Ain Sokhna",
      "popular.sharmElSheikh": "Sharm El Sheikh",
      "popular.hurghadaBeach": "Resort de Plage Hurghada",
      "popular.dahabDiving": "Expérience de Plongée Dahab",
      "popular.days": "Jours",
      "popular.nights": "Nuits",
      
      // Testimonials
      "testimonials.title": "Ce Que Disent Nos Clients",
      "testimonials.subtitle": "Vrais voyageurs. Vraies histoires. Avis vérifiés.",
      "testimonials.basedOn": "Basé sur 1 240 avis",
      "testimonials.service": "Service",
      "testimonials.value": "Valeur",
      "testimonials.organization": "Organisation",
      "testimonials.verifiedAgency": "Agence Vérifiée",
      "testimonials.redSeaTrips": "Voyages Mer Rouge",
      "testimonials.support24": "Support 24/7",
      "testimonials.verifiedTraveler": "Voyageur Vérifié",
      
      // Contact
      "contact.title": "Réservez Votre Voyage Aujourd'hui",
      "contact.subtitle": "Dites-nous où vous voulez aller — nous nous occupons du reste.",
      "contact.getInTouch": "Contactez-nous",
      "contact.description": "Appelez-nous, envoyez un message ou remplissez le formulaire de réservation et notre expert voyage vous contactera dans les 24 heures.",
      "contact.phone": "Téléphone",
      "contact.email": "Email",
      "contact.office": "Bureau",
      "contact.openingHours": "Heures d'Ouverture",
      "contact.callNow": "Appeler Maintenant",
      "contact.fullName": "Nom complet",
      "contact.yourFullName": "Votre nom complet",
      "contact.emailOptional": "Email (optionnel)",
      "contact.destination": "Destination",
      "contact.chooseDestination": "Choisir une destination",
      "contact.adults": "Adultes",
      "contact.children": "Enfants",
      "contact.preferredDate": "Date préférée",
      "contact.notes": "Notes",
      "contact.specialRequests": "Demandes spéciales (standard hôtel, transfert, nourriture...)",
      "contact.requestBooking": "Demander une Réservation",
      "contact.or": "Ou",
      "contact.callUs": "appelez-nous",
      "contact.bookInstantly": "pour réserver instantanément",

         "modals.choose_type_title": "Choisir le type de voyage",
        "modals.choose_type_sub": "Veuillez sélectionner le type de voyage qui vous intéresse.",
        "modals.view_all": "Voir tout",

        "types.hotel": "Hôtel",
        "types.hotel_desc": "Découvrez les meilleurs forfaits hôteliers.",
        "types.honeymoon": "Lune de miel",
        "types.honeymoon_desc": "Voyages romantiques conçus pour les couples.",
        "types.trip": "Voyage",
        "types.trip_desc": "Des voyages et des aventures passionnants vous attendent."

    }
  },
  de: {
    translation: {
      // Navigation
      "nav.home": "Startseite",
      "nav.trips": "Reisen",
      "nav.popular": "Beliebt",
      "nav.testimonials": "Bewertungen",
      "nav.contact": "Kontakt",
      "nav.bookNow": "Jetzt Buchen",
      
      // Hero Section
      "hero.title": "Entdecken Sie Ägyptens Beste Strände",
      "hero.subtitle": "Reisen nach Hurghada, Sharm El-Sheikh und Ain Sokhna — jetzt buchen, später genießen.",
      "hero.exploreTrips": "Reisen Erkunden",
      
      // Destinations
      "destinations.title": "Unsere Reisen",
      "destinations.subtitle": "Wählen Sie aus unseren Top-Destinationen",
      "destinations.ainSokhna": "Ain Sokhna Reisen",
      "destinations.hurghada": "Hurghada Reisen",
      "destinations.sharm": "Sharm El-Sheikh Reisen",
      "destinations.dahab": "Dahab Reisen",
      "destinations.marsa": "Marsa Reisen",
      "destinations.maldives": "Malediven Reisen",
      
      // Popular Trips
      "popular.title": "Beliebte Reisen",
      "popular.subtitle": "Entdecken Sie unsere bestbewerteten Reisen und buchen Sie Ihr nächstes Abenteuer",
      "popular.mostPopular": "Am Beliebtesten",
      "popular.bestSeller": "Bestseller",
      "popular.familyFriendly": "Familienfreundlich",
      "popular.adventure": "Abenteuer",
      "popular.ainSokhnaGetaway": "Ain Sokhna Kurzurlaub",
      "popular.sharmElSheikh": "Sharm El Sheikh",
      "popular.hurghadaBeach": "Hurghada Strandresort",
      "popular.dahabDiving": "Dahab Taucherlebnis",
      "popular.days": "Tage",
      "popular.nights": "Nächte",
      
      // Testimonials
      "testimonials.title": "Was Unsere Kunden Sagen",
      "testimonials.subtitle": "Echte Reisende. Echte Geschichten. Verifizierte Bewertungen.",
      "testimonials.basedOn": "Basierend auf 1.240 Bewertungen",
      "testimonials.service": "Service",
      "testimonials.value": "Wert",
      "testimonials.organization": "Organisation",
      "testimonials.verifiedAgency": "Verifizierte Agentur",
      "testimonials.redSeaTrips": "Rotes Meer Reisen",
      "testimonials.support24": "24/7 Support",
      "testimonials.verifiedTraveler": "Verifizierter Reisender",
      
      // Contact
      "contact.title": "Buchen Sie Ihre Reise Heute",
      "contact.subtitle": "Sagen Sie uns, wohin Sie möchten — wir kümmern uns um den Rest.",
      "contact.getInTouch": "Kontakt aufnehmen",
      "contact.description": "Rufen Sie uns an, senden Sie eine Nachricht oder füllen Sie das Buchungsformular aus und unser Reiseexperte wird Sie innerhalb von 24 Stunden kontaktieren.",
      "contact.phone": "Telefon",
      "contact.email": "Email",
      "contact.office": "Büro",
      "contact.openingHours": "Öffnungszeiten",
      "contact.callNow": "Jetzt Anrufen",
      "contact.fullName": "Vollständiger Name",
      "contact.yourFullName": "Ihr vollständiger Name",
      "contact.emailOptional": "Email (optional)",
      "contact.destination": "Reiseziel",
      "contact.chooseDestination": "Reiseziel wählen",
      "contact.adults": "Erwachsene",
      "contact.children": "Kinder",
      "contact.preferredDate": "Bevorzugtes Datum",
      "contact.notes": "Notizen",
      "contact.specialRequests": "Besondere Wünsche (Hotelstandard, Transfer, Essen...)",
      "contact.requestBooking": "Buchung Anfragen",
      "contact.or": "Oder",
      "contact.callUs": "rufen Sie uns an",
      "contact.bookInstantly": "um sofort zu buchen",
      
        "modals.choose_type_title": "Reisetyp wählen",
        "modals.choose_type_sub": "Bitte wählen Sie die Art der Reise, die Sie interessiert.",
        "modals.view_all": "Alle ansehen",

        "types.hotel": "Hotel",
        "types.hotel_desc": "Entdecken Sie die besten Hotelangebote.",
        "types.honeymoon": "Flitterwochen",
        "types.honeymoon_desc": "Romantische Reisen für Paare.",
        "types.trip": "Reise",
        "types.trip_desc": "Spannende Reisen und Abenteuer erwarten Sie."

    }
  }
};

// Initialize i18next
i18next.init({
  lng: 'en', // default language
  fallbackLng: 'en',
  resources: translations,
  interpolation: {
    escapeValue: false
  }
});

// Language switching functionality
function changeLanguage(lang) {
  i18next.changeLanguage(lang, function(err, t) {
    if (err) return console.log('something went wrong loading', err);
    updateContent();
    updateLanguageButton(lang);
    // Store language preference
    localStorage.setItem('selectedLanguage', lang);
  });
}

// Update all translatable content
function updateContent() {
  // Navigation
  document.querySelectorAll('[data-i18n="nav.home"]').forEach(el => el.textContent = i18next.t('nav.home'));
  document.querySelectorAll('[data-i18n="nav.trips"]').forEach(el => el.textContent = i18next.t('nav.trips'));
  document.querySelectorAll('[data-i18n="nav.popular"]').forEach(el => el.textContent = i18next.t('nav.popular'));
  document.querySelectorAll('[data-i18n="nav.testimonials"]').forEach(el => el.textContent = i18next.t('nav.testimonials'));
  document.querySelectorAll('[data-i18n="nav.contact"]').forEach(el => el.textContent = i18next.t('nav.contact'));
  document.querySelectorAll('[data-i18n="nav.bookNow"]').forEach(el => el.textContent = i18next.t('nav.bookNow'));
  
  // Hero Section
  document.querySelectorAll('[data-i18n="hero.title"]').forEach(el => el.textContent = i18next.t('hero.title'));
  document.querySelectorAll('[data-i18n="hero.subtitle"]').forEach(el => el.textContent = i18next.t('hero.subtitle'));
  document.querySelectorAll('[data-i18n="hero.exploreTrips"]').forEach(el => el.textContent = i18next.t('hero.exploreTrips'));
  
  // Destinations
  document.querySelectorAll('[data-i18n="destinations.title"]').forEach(el => el.textContent = i18next.t('destinations.title'));
  document.querySelectorAll('[data-i18n="destinations.subtitle"]').forEach(el => el.textContent = i18next.t('destinations.subtitle'));
  document.querySelectorAll('[data-i18n="destinations.ainSokhna"]').forEach(el => el.textContent = i18next.t('destinations.ainSokhna'));
  document.querySelectorAll('[data-i18n="destinations.hurghada"]').forEach(el => el.textContent = i18next.t('destinations.hurghada'));
  document.querySelectorAll('[data-i18n="destinations.sharm"]').forEach(el => el.textContent = i18next.t('destinations.sharm'));
  document.querySelectorAll('[data-i18n="destinations.dahab"]').forEach(el => el.textContent = i18next.t('destinations.dahab'));
  document.querySelectorAll('[data-i18n="destinations.marsa"]').forEach(el => el.textContent = i18next.t('destinations.marsa'));
  document.querySelectorAll('[data-i18n="destinations.maldives"]').forEach(el => el.textContent = i18next.t('destinations.maldives'));
  
  // Popular Trips
  document.querySelectorAll('[data-i18n="popular.title"]').forEach(el => el.textContent = i18next.t('popular.title'));
  document.querySelectorAll('[data-i18n="popular.subtitle"]').forEach(el => el.textContent = i18next.t('popular.subtitle'));
  document.querySelectorAll('[data-i18n="popular.mostPopular"]').forEach(el => el.textContent = i18next.t('popular.mostPopular'));
  document.querySelectorAll('[data-i18n="popular.bestSeller"]').forEach(el => el.textContent = i18next.t('popular.bestSeller'));
  document.querySelectorAll('[data-i18n="popular.familyFriendly"]').forEach(el => el.textContent = i18next.t('popular.familyFriendly'));
  document.querySelectorAll('[data-i18n="popular.adventure"]').forEach(el => el.textContent = i18next.t('popular.adventure'));
  document.querySelectorAll('[data-i18n="popular.ainSokhnaGetaway"]').forEach(el => el.textContent = i18next.t('popular.ainSokhnaGetaway'));
  document.querySelectorAll('[data-i18n="popular.sharmElSheikh"]').forEach(el => el.textContent = i18next.t('popular.sharmElSheikh'));
  document.querySelectorAll('[data-i18n="popular.hurghadaBeach"]').forEach(el => el.textContent = i18next.t('popular.hurghadaBeach'));
  document.querySelectorAll('[data-i18n="popular.dahabDiving"]').forEach(el => el.textContent = i18next.t('popular.dahabDiving'));
  
  // Testimonials
  document.querySelectorAll('[data-i18n="testimonials.title"]').forEach(el => el.textContent = i18next.t('testimonials.title'));
  document.querySelectorAll('[data-i18n="testimonials.subtitle"]').forEach(el => el.textContent = i18next.t('testimonials.subtitle'));
  document.querySelectorAll('[data-i18n="testimonials.basedOn"]').forEach(el => el.textContent = i18next.t('testimonials.basedOn'));
  document.querySelectorAll('[data-i18n="testimonials.service"]').forEach(el => el.textContent = i18next.t('testimonials.service'));
  document.querySelectorAll('[data-i18n="testimonials.value"]').forEach(el => el.textContent = i18next.t('testimonials.value'));
  document.querySelectorAll('[data-i18n="testimonials.organization"]').forEach(el => el.textContent = i18next.t('testimonials.organization'));
  document.querySelectorAll('[data-i18n="testimonials.verifiedAgency"]').forEach(el => el.textContent = i18next.t('testimonials.verifiedAgency'));
  document.querySelectorAll('[data-i18n="testimonials.redSeaTrips"]').forEach(el => el.textContent = i18next.t('testimonials.redSeaTrips'));
  document.querySelectorAll('[data-i18n="testimonials.support24"]').forEach(el => el.textContent = i18next.t('testimonials.support24'));
  document.querySelectorAll('[data-i18n="testimonials.verifiedTraveler"]').forEach(el => el.textContent = i18next.t('testimonials.verifiedTraveler'));
  
  // Contact
  document.querySelectorAll('[data-i18n="contact.title"]').forEach(el => el.textContent = i18next.t('contact.title'));
  document.querySelectorAll('[data-i18n="contact.subtitle"]').forEach(el => el.textContent = i18next.t('contact.subtitle'));
  document.querySelectorAll('[data-i18n="contact.getInTouch"]').forEach(el => el.textContent = i18next.t('contact.getInTouch'));
  document.querySelectorAll('[data-i18n="contact.description"]').forEach(el => el.textContent = i18next.t('contact.description'));
  document.querySelectorAll('[data-i18n="contact.phone"]').forEach(el => el.textContent = i18next.t('contact.phone'));
  document.querySelectorAll('[data-i18n="contact.email"]').forEach(el => el.textContent = i18next.t('contact.email'));
  document.querySelectorAll('[data-i18n="contact.office"]').forEach(el => el.textContent = i18next.t('contact.office'));
  document.querySelectorAll('[data-i18n="contact.openingHours"]').forEach(el => el.textContent = i18next.t('contact.openingHours'));
  document.querySelectorAll('[data-i18n="contact.callNow"]').forEach(el => el.textContent = i18next.t('contact.callNow'));
  document.querySelectorAll('[data-i18n="contact.fullName"]').forEach(el => el.textContent = i18next.t('contact.fullName'));
  document.querySelectorAll('[data-i18n="contact.emailOptional"]').forEach(el => el.textContent = i18next.t('contact.emailOptional'));
  document.querySelectorAll('[data-i18n="contact.destination"]').forEach(el => el.textContent = i18next.t('contact.destination'));
  document.querySelectorAll('[data-i18n="contact.chooseDestination"]').forEach(el => el.textContent = i18next.t('contact.chooseDestination'));
  document.querySelectorAll('[data-i18n="contact.adults"]').forEach(el => el.textContent = i18next.t('contact.adults'));
  document.querySelectorAll('[data-i18n="contact.children"]').forEach(el => el.textContent = i18next.t('contact.children'));
  document.querySelectorAll('[data-i18n="contact.preferredDate"]').forEach(el => el.textContent = i18next.t('contact.preferredDate'));
  document.querySelectorAll('[data-i18n="contact.notes"]').forEach(el => el.textContent = i18next.t('contact.notes'));
  document.querySelectorAll('[data-i18n="contact.requestBooking"]').forEach(el => el.textContent = i18next.t('contact.requestBooking'));
  document.querySelectorAll('[data-i18n="contact.or"]').forEach(el => el.textContent = i18next.t('contact.or'));
  document.querySelectorAll('[data-i18n="contact.callUs"]').forEach(el => el.textContent = i18next.t('contact.callUs'));
  document.querySelectorAll('[data-i18n="contact.bookInstantly"]').forEach(el => el.textContent = i18next.t('contact.bookInstantly'));
  
  // Update placeholders
  document.querySelectorAll('[data-i18n-placeholder="contact.yourFullName"]').forEach(el => el.placeholder = i18next.t('contact.yourFullName'));
  document.querySelectorAll('[data-i18n-placeholder="contact.specialRequests"]').forEach(el => el.placeholder = i18next.t('contact.specialRequests'));
}

// Update language button display
function updateLanguageButton(lang) {
  const langMap = {
    'en': 'EN',
    'fr': 'FR', 
    'de': 'DE'
  };
  
  document.querySelectorAll('.language-display').forEach(el => {
    el.textContent = langMap[lang] || 'EN';
  });
}

// Initialize language system when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
  // Load saved language preference
  const savedLang = localStorage.getItem('selectedLanguage') || 'en';
  changeLanguage(savedLang);
  
  // Add click handlers to language dropdown items
  document.querySelectorAll('.language-option').forEach(option => {
    option.addEventListener('click', function(e) {
      e.preventDefault();
      const lang = this.getAttribute('data-lang');
      changeLanguage(lang);
    });
  });
});
